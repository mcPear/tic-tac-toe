import pygame

pygame.init()
dimension = 400
section = dimension / 3
screen = pygame.display.set_mode((dimension, dimension))

background_color = (200, 180, 200)
pygame.draw.rect(screen, background_color, (0, 0, dimension, dimension))

line_color = (30, 30, 30)
line_width = 10
pygame.draw.line(screen, line_color, (section, 0), (section, dimension), line_width)
pygame.draw.line(screen, line_color, (2 * section, 0), (2 * section, dimension), line_width)
pygame.draw.line(screen, line_color, (0, section), (dimension, section), line_width)
pygame.draw.line(screen, line_color, (0, 2 * section), (dimension, 2 * section), line_width)
turn = 0


def draw_circle(cell_x, cell_y):
    pygame.draw.circle(screen, line_color, (cell_x * section + section / 2, cell_y * section + section / 2),
                       section / 3, line_width)


def draw_cross(cell_x, cell_y):
    base_x = cell_x * section
    base_y = cell_y * section
    line_start = section / 4
    line_end = section * 3 / 4
    pygame.draw.line(screen, line_color, (base_x + line_start, base_y + line_start),
                     (base_x + line_end, base_y + line_end), 10)
    pygame.draw.line(screen, line_color, (base_x + line_end, base_y + line_start),
                     (base_x + line_start, base_y + line_end), 10)


def draw_element(turn):
    (x, y) = pygame.mouse.get_pos()
    cell_x = x / section
    cell_y = y / section
    if turn:
        draw_circle(cell_x, cell_y)
    else:
        draw_cross(cell_x, cell_y)


while 1:
    pygame.display.flip()
    for event in pygame.event.get():
        if event.type == pygame.MOUSEBUTTONUP:
            draw_element(turn)
            turn = not turn
        if event.type == pygame.QUIT:
            pygame.quit()
            exit(0)
